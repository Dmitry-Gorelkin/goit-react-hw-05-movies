{"version":3,"file":"static/js/387.b995e287.chunk.js","mappings":"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","sources":["api.js","components/Reviews/Reviews.styled.jsx","components/Reviews/Reviews.jsx"],"sourcesContent":["import axios from 'axios';\n\nconst API_KEY = 'a3bd63f16fb7aecb4bc4aafac25ce962';\naxios.defaults.baseURL = 'https://api.themoviedb.org/3';\n\nexport const fhechPopularMovies = async () => {\n  const options = {\n    url: '/trending/movie/day',\n    params: {\n      api_key: API_KEY,\n    },\n  };\n\n  const response = await axios(options);\n  return response.data;\n};\n\nexport const fhechSearchMovies = async (query, page = 1) => {\n  const options = {\n    url: '/search/movie',\n    params: {\n      api_key: API_KEY,\n      query,\n      page,\n    },\n  };\n\n  const response = await axios(options);\n  return response.data;\n};\n\nexport const fhechGetDetailshMovies = async idMovie => {\n  const options = {\n    url: `/movie/${idMovie}`,\n    params: {\n      api_key: API_KEY,\n    },\n  };\n\n  const response = await axios(options);\n  return response.data;\n};\n\nexport const fhechGetCreditsMovies = async idMovie => {\n  const options = {\n    url: `/movie/${idMovie}/credits`,\n    params: {\n      api_key: API_KEY,\n    },\n  };\n\n  const response = await axios(options);\n  return response.data;\n};\n\nexport const fhechGetReviewsMovies = async (idMovie, page = 1) => {\n  const options = {\n    url: `/movie/${idMovie}/reviews`,\n    params: {\n      api_key: API_KEY,\n      page,\n    },\n  };\n\n  const response = await axios(options);\n  return response.data;\n};\n","import styled from 'styled-components';\n\nexport const ReviewsWraper = styled.ul`\n  display: flex;\n  flex-direction: column;\n  padding: ${p => p.theme.space[3]}px;\n`;\n\nexport const ReviewsCard = styled.li`\n  display: block;\n\n  padding-top: ${p => p.theme.space[3]}px;\n  padding-bottom: ${p => p.theme.space[3]}px;\n\n  border-bottom: 1px solid rgba(0, 194, 224, 0.5);\n\n  p:not(:last-child) {\n    margin-bottom: ${p => p.theme.space[2]}px;\n  }\n`;\n\nexport const ReviewsName = styled.span`\n  font-weight: bold;\n`;\n\nexport const BoxLoadMore = styled.div`\n  display: flex;\n  justify-content: center;\n\n  padding: ${p => p.theme.space[3]}px;\n`;\n\nexport const LoadMore = styled.div`\n  width: ${p => p.theme.space[7]}px;\n\n  display: flex;\n  justify-content: center;\n\n  padding-top: ${p => p.theme.space[3]}px;\n  padding-bottom: ${p => p.theme.space[3]}px;\n\n  border-radius: ${p => p.theme.space[3]}px;\n\n  cursor: pointer;\n\n  :hover,\n  :focus-visible {\n    color: ${p => p.theme.colors.accent};\n    box-shadow: 1px 1px 10px 3px rgba(0, 0, 0, 0.2);\n  }\n`;\n","import { useEffect, useState } from 'react';\nimport { useParams } from 'react-router-dom';\nimport toast from 'react-hot-toast';\nimport { fhechGetReviewsMovies } from 'api';\nimport { Loader } from 'components/Loader/Loader';\nimport {\n  ReviewsWraper,\n  ReviewsCard,\n  ReviewsName,\n  BoxLoadMore,\n  LoadMore,\n} from './Reviews.styled';\n\nconst Reviews = () => {\n  const { id } = useParams();\n  const [reviews, setReviews] = useState([]);\n  const [page, setPage] = useState(1);\n  const [status, setStatus] = useState('ideal');\n\n  const nextPage = () => setPage(prevState => prevState + 1);\n\n  useEffect(() => {\n    const movieReviewsFech = async (id, page) => {\n      try {\n        const movieData = await fhechGetReviewsMovies(id, page);\n        setStatus('laoding');\n\n        if (movieData.total_results === 0) {\n          setStatus('noIdeal');\n          return;\n        }\n\n        const arrMovieData = movieData.results.map(e => {\n          const { id, author, content } = e;\n          return { id, author, content };\n        });\n\n        setReviews(prevState => [...prevState, ...arrMovieData]);\n        page < movieData.total_pages\n          ? setStatus('loadMore')\n          : setStatus('ideal');\n      } catch {\n        toast.error(\n          `Что-то пошло не так, попробуйте перезагрузить страницу попозже.`\n        );\n        setStatus('error');\n      }\n    };\n\n    movieReviewsFech(id, page);\n  }, [id, page]);\n\n  if (status === 'laoding') {\n    return <Loader />;\n  }\n\n  if (status === 'error') {\n    return;\n  }\n\n  return (\n    <>\n      {reviews.length !== 0 && (\n        <ReviewsWraper>\n          {reviews.map(e => {\n            const { id, author, content } = e;\n            return (\n              <ReviewsCard key={id}>\n                <p>\n                  Author: <ReviewsName>{author}</ReviewsName>\n                </p>\n                <p>{content}</p>\n              </ReviewsCard>\n            );\n          })}\n        </ReviewsWraper>\n      )}\n\n      {status === 'noIdeal' && <p>We don't have any reviews for this movie.</p>}\n\n      {status === 'loadMore' && (\n        <BoxLoadMore>\n          <LoadMore onClick={nextPage}>Load More</LoadMore>\n        </BoxLoadMore>\n      )}\n    </>\n  );\n};\n\nexport default Reviews;\n"],"names":["API_KEY","axios","fhechPopularMovies","options","url","params","api_key","response","data","fhechSearchMovies","query","page","fhechGetDetailshMovies","idMovie","fhechGetCreditsMovies","fhechGetReviewsMovies","ReviewsWraper","styled","p","theme","space","ReviewsCard","ReviewsName","BoxLoadMore","LoadMore","colors","accent","id","useParams","useState","reviews","setReviews","setPage","status","setStatus","useEffect","movieReviewsFech","movieData","total_results","arrMovieData","results","map","e","author","content","prevState","total_pages","toast","Loader","length","onClick"],"sourceRoot":""}