{"version":3,"file":"static/js/935.fd5a2e06.chunk.js","mappings":"+QAEaA,EAAc,SAAC,GAAyB,IAAvBC,EAAsB,EAAtBA,MAAOC,EAAe,EAAfA,SACnC,GAA0BC,EAAAA,EAAAA,WAAS,kBAAMF,CAAN,IAAnC,eAAOG,EAAP,KAAcC,EAAd,KAEA,OACE,0BACE,iBAAMH,SAAUA,EAAhB,UACE,kBACEI,KAAK,OACLC,YAAY,oBACZH,MAAOA,EACPI,SAAU,SAAAC,GAAC,OAAIJ,EAASI,EAAEC,OAAON,MAAtB,OAKpB,E,kBC2CD,EApDe,WACb,OAAwCO,EAAAA,EAAAA,MAAxC,eAAOC,EAAP,KAAqBC,EAArB,KACA,GAA4BV,EAAAA,EAAAA,UAAS,IAArC,eAAOW,EAAP,KAAeC,EAAf,KACA,GAA0BZ,EAAAA,EAAAA,WAAS,kCAAMS,EAAaI,IAAI,gBAAvB,QAAmC,EAAnC,IAAnC,eAAOf,EAAP,KAAcgB,EAAd,KAwCA,OAzBAC,EAAAA,EAAAA,YAAU,WACR,IAAMC,EAAS,mCAAG,WAAMlB,GAAN,mGAEUmB,EAAAA,EAAAA,IAAkBnB,GAF5B,UAGmB,KAD3BoB,EAFQ,QAGAC,QAAQC,OAHR,uBAIZC,EAAAA,EAAAA,IAAM,iGAAD,OAAuBvB,EAAvB,qGAJO,0BAQRwB,EAAeJ,EAAUC,QAAQI,KAAI,SAAAjB,GAEzC,MAAO,CAAEkB,GADalB,EAAdkB,GACKC,MADSnB,EAAVmB,MAEb,IAEDb,GAAU,SAAAc,GAAS,wBAAQA,IAAR,OAAsBJ,GAAtB,IAbL,kDAedD,EAAAA,GAAAA,MAAA,4UAfc,0DAAH,sDAqBXvB,GAAOkB,EAAUlB,EACtB,GAAE,CAACA,KAGF,iCACE,SAAC6B,EAAA,EAAD,KACA,SAAC9B,EAAD,CAAaE,SAzCK,SAAAO,GACpBA,EAAEsB,iBACF,IAAMC,EAAavB,EAAEC,OAAO,GAAGN,MAAM6B,OAAOC,oBAEzB,KAAfF,GAKJnB,EAAgB,CAAEZ,MAAO+B,IACzBf,EAASe,IALPG,QAAQC,IAAI,4EAMf,EA8ByCnC,MAAOA,KAC7C,SAACoC,EAAA,EAAD,CAAWvB,OAAQA,MAGxB,C","sources":["components/SearchMovie/SearchMovie.jsx","pages/Movies.jsx"],"sourcesContent":["import { useState } from 'react';\n\nexport const SearchMovie = ({ query, onSubmit }) => {\n  const [value, setValue] = useState(() => query);\n\n  return (\n    <div>\n      <form onSubmit={onSubmit}>\n        <input\n          type=\"text\"\n          placeholder=\"Search name movie\"\n          value={value}\n          onChange={e => setValue(e.target.value)}\n        />\n      </form>\n    </div>\n  );\n};\n","import { useEffect, useState } from 'react';\nimport { useSearchParams } from 'react-router-dom';\nimport toast from 'react-hot-toast';\nimport { Navigation } from 'components/Navigation/Navigation';\nimport { SearchMovie } from 'components/SearchMovie/SearchMovie';\nimport { MovieList } from 'components/MovieList/MovieList';\nimport { fhechSearchMovies } from 'api';\n\nconst Movies = () => {\n  const [searchParams, setSearchParams] = useSearchParams();\n  const [movies, setMovies] = useState([]);\n  const [query, setQuery] = useState(() => searchParams.get('query') ?? '');\n\n  const onSubmitMovie = e => {\n    e.preventDefault();\n    const queryMovie = e.target[0].value.trim().toLocaleLowerCase();\n\n    if (queryMovie === '') {\n      console.log('пустая строка');\n      return;\n    }\n\n    setSearchParams({ query: queryMovie });\n    setQuery(queryMovie);\n  };\n\n  useEffect(() => {\n    const searchApi = async query => {\n      try {\n        const movieList = await fhechSearchMovies(query);\n        if (movieList.results.length === 0) {\n          toast(`По вашему запросу: ${query}, мы ничего не нашли.`);\n          return;\n        }\n\n        const arrMovieList = movieList.results.map(e => {\n          const { id, title } = e;\n          return { id, title };\n        });\n\n        setMovies(prevState => [...prevState, ...arrMovieList]);\n      } catch {\n        toast.error(\n          `Что-то пошло не так, попробуйте перезагрузить страницу попозже.`\n        );\n      }\n    };\n\n    if (query) searchApi(query);\n  }, [query]);\n\n  return (\n    <>\n      <Navigation />\n      <SearchMovie onSubmit={onSubmitMovie} query={query} />\n      <MovieList movies={movies} />\n    </>\n  );\n};\n\nexport default Movies;\n"],"names":["SearchMovie","query","onSubmit","useState","value","setValue","type","placeholder","onChange","e","target","useSearchParams","searchParams","setSearchParams","movies","setMovies","get","setQuery","useEffect","searchApi","fhechSearchMovies","movieList","results","length","toast","arrMovieList","map","id","title","prevState","Navigation","preventDefault","queryMovie","trim","toLocaleLowerCase","console","log","MovieList"],"sourceRoot":""}